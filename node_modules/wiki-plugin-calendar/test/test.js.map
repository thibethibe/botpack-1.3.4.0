{
  "version": 3,
  "names": [
    "expect",
    "report",
    "require",
    "describe",
    "it",
    "parse",
    "to",
    "eql",
    "year",
    "span",
    "month",
    "day",
    "label",
    "interview",
    "oneDayInMS",
    "today",
    "Date",
    "input",
    "output",
    "rows",
    "date",
    "apply",
    "units",
    "value",
    "Math",
    "floor",
    "getTime",
    "precision",
    "results",
    "mock",
    "beforeEach",
    "el",
    "$el",
    "addClass",
    "c",
    "actualClass",
    "get",
    "n",
    "radarSource",
    "be",
    "have",
    "key",
    "radarData",
    "data",
    "daysSinceEpoch",
    "oneDecadeInMS"
  ],
  "sources": [
    "test.coffee"
  ],
  "sourcesContent": [
    "report = require '../client/calendar'\nexpect = require 'expect.js'\n\ndescribe 'calendar plugin', ->\n\n\tdescribe 'parsing', ->\n\n\t\tit 'recognizes decades', ->\n\t\t\texpect(report.parse \"1960 DECADE\").to.eql [{year: 1960, span:'DECADE'}]\n\t\t\texpect(report.parse \"DECADE 1960\").to.eql [{year: 1960, span:'DECADE'}]\n\t\t\texpect(report.parse \"60S\").to.eql [{year: 1960, span:'DECADE'}]\n\n\t\tit 'recognizes half decades', ->\n\t\t\texpect(report.parse \"60S EARLY\").to.eql [{year: 1960, span:'EARLY'}]\n\t\t\texpect(report.parse \"EARLY 60S\").to.eql [{year: 1960, span:'EARLY'}]\n\t\t\texpect(report.parse \"LATE 60S\").to.eql [{year: 1960, span:'LATE'}]\n\n\t\tit 'recognizes years', ->\n\t\t\texpect(report.parse \"1960\").to.eql [{year: 1960, span:'YEAR'}]\n\n\t\tit 'recognizes months', ->\n\t\t\texpect(report.parse \"1960 MAR\").to.eql [{year: 1960, month:3, span:'MONTH'}]\n\t\t\texpect(report.parse \"MAR 1960\").to.eql [{year: 1960, month:3, span:'MONTH'}]\n\t\t\texpect(report.parse \"MARCH 1960\").to.eql [{year: 1960, month:3, span:'MONTH'}]\n\n\t\tit 'recognizes days', ->\n\t\t\texpect(report.parse \"MAR 5 1960\").to.eql [{year: 1960, month:3, day: 5, span:'DAY'}]\n\t\t\texpect(report.parse \"1960 MAR 5\").to.eql [{year: 1960, month:3, day: 5, span:'DAY'}]\n\t\t\texpect(report.parse \"5 MAR 1960\").to.eql [{year: 1960, month:3, day: 5, span:'DAY'}]\n\n\t\tit 'recognizes labels', ->\n\t\t\texpect(report.parse \"Ward's CHM Interview\").to.eql [{label: \"Ward's CHM Interview\"}]\n\t\t\texpect(report.parse \"APRIL 24 2006 Ward's CHM Interview\").to.eql [{year: 2006, month:4, day: 24, span:'DAY', label: \"Ward's CHM Interview\"}]\n\t\t\texpect(report.parse \" APRIL  24  2006\\tWard's  CHM  Interview  \").to.eql [{year: 2006, month:4, day: 24, span:'DAY', label: \"Ward's CHM Interview\"}]\n\n\tdescribe 'applying', ->\n\n\t\ttoday = new Date 2013, 2-1, 3\n\t\tinterview = new Date 2006, 4-1, 24\n\t\toneDayInMS = 24*60*60*1000\n\n\t\tit 'recalls input', ->\n\t\t\tinput = {interview: {date: interview}}\n\t\t\toutput = {}\n\t\t\trows = report.parse \"interview\"\n\t\t\texpect(report.apply input, output, today, rows).to.eql [\n\t\t\t\tdate: interview\n\t\t\t\tlabel:'interview'\n\t\t\t\tunits: ['day']\n\t\t\t\tvalue: Math.floor(interview.getTime() / oneDayInMS)\n\t\t\t\tprecision: oneDayInMS\n\t\t\t]\n\n\t\tit 'extends today', ->\n\t\t\tinput = {}\n\t\t\toutput = {}\n\t\t\trows = report.parse \"APRIL 1 April Fools Day\"\n\t\t\tresults = report.apply input, output, today, rows\n\t\t\texpect(results).to.eql [\n\t\t\t\tdate: new Date(2013, 4-1, 1)\n\t\t\t\tmonth: 4\n\t\t\t\tday: 1\n\t\t\t\tspan:'DAY'\n\t\t\t\tlabel: 'April Fools Day'\n\t\t\t\tunits: ['day']\n\t\t\t\tvalue: Math.floor(new Date(2013, 4-1, 1).getTime() / oneDayInMS)\n\t\t\t\tprecision: oneDayInMS\n\t\t\t]\n\t\t\texpect(output).to.eql {'April Fools Day': {date: new Date(2013, 4-1, 1), span:'DAY'}}\n\n\tdescribe 'radarSource', ->\n\t\tmock = {}\n\t\tbeforeEach ->\n\t\t\tmock.el = {}\n\t\t\tmock.$el =\n\t\t\t\taddClass : (c) -> mock.actualClass = c\n\t\t\t\tget : (n) -> mock.el\n\t\t\tresults = report.apply {}, {}, new Date(), report.parse('''\n\t\t\t\t2015 SEP 1 Starts Now\n\t\t\t\tLATE 90S Some languages were born\n\t\t\t''')\n\t\t\treport.radarSource(mock.$el, results)\n\n\t\tit 'calls addClass with \"radar-source\"', ->\n\t\t\texpect(mock.actualClass).to.be 'radar-source'\n\n\t\tit 'adds radarData() to the DOM element', ->\n\t\t\texpect(mock.el).to.have.key 'radarData'\n\n\t\tit 'uses the labels as keys in the radarData', ->\n\t\t\texpect(mock.el.radarData()).to.have.key 'Starts Now'\n\n\t\tit 'puts the distance from the Epoch into the values in the radarData', ->\n\t\t\tdata = mock.el.radarData()\n\t\t\tdaysSinceEpoch = Math.floor(new Date(2015, 8, 1).getTime() / (24 * 60 * 60 * 1000) ) # 16,679\n\t\t\texpect(data['Starts Now']).to.have.key 'value'\n\t\t\texpect(data['Starts Now'].value).to.eql daysSinceEpoch\n\n\t\tit 'specifies units & precision with values in the radarData', ->\n\t\t\tdata = mock.el.radarData()\n\t\t\toneDayInMS = 24 * 60 * 60 * 1000 # 86,400,000\n\t\t\texpect(data['Starts Now']).to.have.key 'units'\n\t\t\texpect(data['Starts Now'].units).to.eql ['day']\n\t\t\texpect(data['Starts Now']).to.have.key 'precision'\n\t\t\texpect(data['Starts Now'].precision).to.eql oneDayInMS\n\n\t\tit 'chooses units & precision to match the parsed span of the date', ->\n\t\t\tdata = mock.el.radarData()\n\t\t\toneDecadeInMS = 10 * 365.25 * 24 * 60 * 60 * 1000 # 315,576,000,000\n\t\t\texpect(data['Some languages were born']).to.have.key 'units'\n\t\t\texpect(data['Some languages were born'].units).to.eql ['decade']\n\t\t\texpect(data['Some languages were born']).to.have.key 'precision'\n\t\t\texpect(data['Some languages were born'].precision).to.eql oneDecadeInMS\n\n\t# describe 'formatting', ->\n\t# \tit 'returns an array of strings', ->\n\t# \t\trows = report.format report.parse \"\"\n\t# \t\texpect(rows).to.eql []\n"
  ],
  "mappings": "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"
}