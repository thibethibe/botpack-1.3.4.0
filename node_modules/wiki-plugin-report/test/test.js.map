{
  "version": 3,
  "names": [
    "report",
    "require",
    "describe",
    "it",
    "schedule",
    "parse",
    "expect",
    "to",
    "eql",
    "issue",
    "_report$parse",
    "_report$parse2",
    "_slicedToArray",
    "interval",
    "be",
    "_report$parse3",
    "_report$parse4",
    "offsets",
    "_report$parse5",
    "_report$parse6",
    "recipients",
    "have",
    "length",
    "count",
    "date",
    "_report$parse7",
    "_report$parse8",
    "Date",
    "i",
    "advance",
    "_report$parse9",
    "_report$parse10",
    "_report$parse11",
    "_report$parse12",
    "_report$parse13",
    "_report$parse14"
  ],
  "sources": [
    "test.coffee"
  ],
  "sourcesContent": [
    "report = require './report'\n\ndescribe 'report plugin', ->\n\n\tdescribe 'parsing', ->\n\n\t\tit 'returns an array', ->\n\t\t\tschedule = report.parse \"\"\n\t\t\texpect(schedule).to.eql []\n\n\t\tit 'parses intervals', ->\n\t\t\t[issue] = report.parse \"DAILY ward@example.com\"\n\t\t\texpect(issue.interval).to.be 'DAILY'\n\n\t\tit 'parses offsets', ->\n\t\t\t[issue] = report.parse \"WEEKLY TUESDAY NOON\"\n\t\t\texpect(issue.offsets).to.eql ['TUESDAY', 'NOON']\n\n\t\tit 'parses recipients', ->\n\t\t\t[issue] = report.parse \"DAILY ward@c2.com root@c2.com\"\n\t\t\texpect(issue.recipients).to.eql ['ward@c2.com', 'root@c2.com']\n\n\t\tit 'parses multiple issues', ->\n\t\t\tschedule = report.parse \"WEEKLY MONTHLY YEARLY\"\n\t\t\texpect(schedule).to.have.length 3\n\n\tdescribe 'advancing', ->\n\n\t\tit 'handles weeks', ->\n\t\t\t[issue] = report.parse \"WEEKLY\"\n\t\t\tdate = new Date 2012, 12-1, 25, 3, 4, 5\n\t\t\tcount = (i) -> report.advance(date, issue, i)\n\t\t\texpect(count -1).to.eql new Date 2012, 12-1, 16\n\t\t\texpect(count 0).to.eql new Date 2012, 12-1, 23\n\t\t\texpect(count 1).to.eql new Date 2012, 12-1, 30\n\t\t\texpect(count 2).to.eql new Date 2013, 1-1, 6\n\n\t\tit 'handles weeks with offsets (noon > now)', ->\n\t\t\t[issue] = report.parse \"WEEKLY TUESDAY NOON\"\n\t\t\tdate = new Date 2012, 12-1, 25, 3, 4, 5\n\t\t\tcount = (i) -> report.advance(date, issue, i)\n\t\t\texpect(count -1).to.eql new Date 2012, 12-1, 11, 12\n\t\t\texpect(count 0).to.eql new Date 2012, 12-1, 18, 12\n\t\t\texpect(count 1).to.eql new Date 2012, 12-1, 25, 12\n\t\t\texpect(count 2).to.eql new Date 2013, 1-1, 1, 12\n\n\t\tit 'handles years with offsets (march < now)', ->\n\t\t\t[issue] = report.parse \"YEARLY MARCH FRIDAY EVENING\"\n\t\t\tdate = new Date 2012, 12-1, 25, 3, 4, 5\n\t\t\tcount = (i) -> report.advance(date, issue, i)\n\t\t\texpect(count -1).to.eql new Date 2011, 3-1, 4, 18\n\t\t\texpect(count 0).to.eql new Date 2012, 3-1, 2, 18\n\t\t\texpect(count 1).to.eql new Date 2013, 3-1, 1, 18\n\t\t\texpect(count 2).to.eql new Date 2014, 3-1, 7, 18\n\n\t\tit 'handles election day (election > now)', ->\n\t\t\t[issue] = report.parse \"YEARLY NOVEMBER MONDAY TUESDAY MORNING\"\n\t\t\tdate = new Date 2016, 1, 2, 3, 4, 5\n\t\t\tcount = (i) -> report.advance(date, issue, i)\n\t\t\texpect(count -1).to.eql new Date 2014, 11-1, 4, 6\n\t\t\texpect(count 0).to.eql new Date 2015, 11-1, 3, 6\n\t\t\texpect(count 1).to.eql new Date 2016, 11-1, 8, 6\n\t\t\texpect(count 2).to.eql new Date 2017, 11-1, 7, 6\n"
  ],
  "mappings": "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"
}