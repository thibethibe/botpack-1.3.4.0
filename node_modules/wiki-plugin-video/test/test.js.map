{
  "version": 3,
  "names": [
    "expect",
    "video",
    "require",
    "describe",
    "it",
    "result",
    "parse",
    "player",
    "to",
    "be",
    "key",
    "caption",
    "start",
    "end",
    "options",
    "embed",
    "match"
  ],
  "sources": [
    "test.coffee"
  ],
  "sourcesContent": [
    "video = require '../client/video'\nexpect = require 'expect.js'\n\ndescribe 'video plugin', ->\n\n  describe 'parsing', ->\n\n    it 'parses string', ->\n      result = video.parse('YOUTUBE a1234\\nDummy caption\\nMore caption text')\n      expect(result.player).to.be 'YOUTUBE'\n      expect(result.key).to.be 'a1234'\n      expect(result.caption).to.be ' Dummy caption More caption text '\n\n    it 'parses START and END', ->\n      result = video.parse('YOUTUBE a1234\\nSTART 46:10\\nEND 1:09:10\\nDummy caption\\nMore caption text')\n      expect(result.player).to.be 'YOUTUBE'\n      expect(result.start).to.be '46:10'\n      expect(result.end).to.be '1:09:10'\n      expect(result.key).to.be 'a1234'\n      expect(result.caption).to.be ' Dummy caption More caption text '\n\n    it 'allows video declaration to be below caption', ->\n      result = video.parse('Dummy caption\\nMore caption text\\nYOUTUBE a1234')\n      expect(result.player).to.be 'YOUTUBE'\n      expect(result.key).to.be 'a1234'\n      expect(result.caption).to.be ' Dummy caption More caption text '\n\n    it 'matches mime type as HTML5 option', ->\n      result = video.parse('HTML5 mp4 http://example.com/video.mp4')\n      expect(result.player).to.be 'HTML5'\n      expect(result.key).to.be 'http://example.com/video.mp4'\n      expect(result.options).to.be 'mp4'\n\n  describe 'embedding', ->\n\n    it 'renders Youtube video', ->\n      embed = video.embed({ player: 'YOUTUBE', options: '', key: '12345'  })\n      expect(embed).to.match ///\n        <iframe\n        [^>]*\n        src=\"https://www\\.youtube-nocookie\\.com/embed/12345\\?rel=0\"\n        ///\n\n    it 'renders Youtube with start and end time', ->\n      embed = video.embed({ player: 'YOUTUBE', options: '', key: '12345', start: '4:50', end: '8:20' })\n      expect(embed).to.match ///\n        <iframe\n        [^>]*\n        src=\"https://www\\.youtube-nocookie\\.com/embed/12345\\?start=290&end=500&rel=0\"\n        ///\n\n    it 'renders Youtube playlist', ->\n      embed = video.embed({ player: 'YOUTUBE', options: 'PLAYLIST', key: '12345' })\n      expect(embed).to.match ///\n        <iframe\n        [^>]*\n        src=\"https://www\\.youtube-nocookie\\.com/embed/videoseries\\?list=12345&rel=0\"\n        ///\n\n    it 'renders Vimeo video', ->\n      embed = video.embed({ player: 'VIMEO', key: '12345' })\n      expect(embed).to.match ///\n        <iframe\n        [^>]*\n        src=\"https://player.vimeo.com/video/12345\\?byline=0&dnt=1&portrait=0&title=0\"\n        ///\n\n    it 'renders Vimeo with start time', ->\n      embed = video.embed({ player: 'VIMEO', key: '12345', start: '1:20' })\n      expect(embed).to.match ///\n        <iframe\n        [^>]*\n        src=\"https://player.vimeo.com/video/12345\\?byline=0&dnt=1&portrait=0&title=0&#t=1:20\"\n        ///\n\n    it 'renders Archive video', ->\n      embed = video.embed({ player: 'ARCHIVE', key: '12345' })\n      expect(embed).to.match ///\n        <iframe\n        [^>]*\n        src=\"https://archive.org/embed/12345\"\n        ///\n\n    it 'renders TED video', ->\n      embed = video.embed({ player: 'TED', key: '12345' })\n      expect(embed).to.match ///\n        <iframe\n        [^>]*\n        src=\"https://embed-ssl.ted.com/talks/12345.html\"\n        ///\n\n    it 'renders HTML5 video', ->\n      embed = video.embed({ player: 'HTML5', options: 'mp4', key: 'https://example.com/video.mp4' })\n      expect(embed).to.match ///\n        <video\\s+controls\\s+preload=\"metadata\"\\s+width=\"100%\">\\s+\n        <source\\s+\n            src=\"https://example.com/video.mp4\"\\s+\n            type=\"video/mp4\"\n        ///\n    \n    it 'renders HTML5 video with start', ->\n      embed = video.embed({ player: 'HTML5', options: 'mp4', key: 'https://example.com/video.mp4', start: '45' })\n      expect(embed).to.match ///\n        <video\\s+controls\\s+preload=\"metadata\"\\s+width=\"100%\">\\s+\n          <source\\s+\n              src=\"https://example.com/video.mp4#t=45\"\\s+\n              type=\"video/mp4\"\n      ///\n\n    it 'renders HTML5 video with end', ->\n      embed = video.embed({ player: 'HTML5', options: 'mp4', key: 'https://example.com/video.mp4', end: '45' })\n      expect(embed).to.match ///\n        <video\\s+controls\\s+preload=\"metadata\"\\s+width=\"100%\">\\s+\n          <source\\s+\n              src=\"https://example.com/video.mp4#t=,45\"\\s+\n              type=\"video/mp4\"\n      ///\n\n    it 'renders fallback text when player is not recognized', ->\n      embed = video.embed({ player: 'DUMMY', key: '12345' })\n      expect(embed).to.be \"(unknown player)\"\n"
  ],
  "mappings": "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"
}